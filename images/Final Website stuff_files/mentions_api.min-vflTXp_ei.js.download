define(["require","exports","tslib","external/lodash","modules/clean/contacts/bloodhound_contacts_v2","modules/clean/contacts/data_v2","modules/clean/react/comments2/transforms"],function(t,e,n,o,a,c,i){"use strict";function r(t,e){return t?new s(t,e):{cache:{},query:function(){},getMatchesWithStarterSuggestions:function(){return{}}}}Object.defineProperty(e,"__esModule",{value:!0}),o=n.__importStar(o);var s=(function(){function t(t,e){void 0===e&&(e=!1);var n=this;this.cache={},this.filterContact=function(t){var e=!!t.group_id,o=!n.allowMentionSelf&&t.email===n.user.email;return!(e||o)},this.user=t,this.allowMentionSelf=e,this.dataSource=new c.ContactsDataSourceV2(t,this.filterContact)}return t.prototype.query=function(t,e){var o=this,a=function(a){var c;o.cache=n.__assign({},o.cache,(c={},c[t]=a.map(i.contactToIMentionUser),c)),e(o.cache)};this.dataSource.search(t,a,a)},t.prototype.getMatchesWithStarterSuggestions=function(){var t=a.BloodhoundContactsV2.getAll(this.user).filter(this.filterContact).map(i.contactToIMentionUser),e=o.sortBy(t.slice(0,50),function(t){return t.name||t.email});return this.cache=n.__assign({},this.cache,{"":e}),this.cache},t})();e.MentionsApiImpl=s,e.mentionsApi=r});
//# sourceMappingURL=mentions_api.min.js-vflbhHUlK.map